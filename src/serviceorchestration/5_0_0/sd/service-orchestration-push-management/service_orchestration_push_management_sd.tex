\documentclass[a4paper]{arrowhead}

\usepackage[yyyymmdd]{datetime}
\usepackage{etoolbox}
\usepackage[utf8]{inputenc}
\usepackage{multirow}

\renewcommand{\dateseparator}{-}

\setlength{\parskip}{1em}
\hyphenation{Er-ror-Res-pon-se}

%% Special references
\newcommand{\fref}[1]{{\textcolor{ArrowheadBlue}{\hyperref[sec:functions:#1]{#1}}}}
\newcommand{\mref}[1]{{\textcolor{ArrowheadPurple}{\hyperref[sec:model:#1]{#1}}}}
\newcommand{\prref}[1]{{\textcolor{ArrowheadPurple}{\hyperref[sec:model:primitives:#1]{#1}}}}
\newcommand{\pdef}[1]{{\textcolor{ArrowheadGrey}{#1\label{sec:model:primitives:#1}\label{sec:model:primitives:#1s}\label{sec:model:primitives:#1es}}}}
\newcommand{\pref}[1]{{\textcolor{ArrowheadGrey}{\hyperref[sec:model:primitives:#1]{#1}}}}

\newrobustcmd\fsubsection[5]{
  \addtocounter{subsection}{1}
  \addcontentsline{toc}{subsection}{\protect\numberline{\thesubsection}operation \textcolor{ArrowheadBlue}{#1}}
  \renewcommand*{\do}[1]{\rref{##1},\ }
  \subsection*{
    \thesubsection\quad
    operation
    \textcolor{ArrowheadBlue}{#1}
    (\notblank{#2}{\mref{#2}}{})
    \notblank{#3}{: \mref{#3}}{}
    \notblank{#4}{: \prref{#4}}{}
    \notblank{#5}{/ \mref{#5}}{}
  }
  \label{sec:functions:#1}
}
\newrobustcmd\msubsection[2]{
  \addtocounter{subsection}{1}
  \addcontentsline{toc}{subsection}{\protect\numberline{\thesubsection}#1 \textcolor{ArrowheadPurple}{#2}}
  \subsection*{\thesubsection\quad#1 \textcolor{ArrowheadPurple}{#2}}
  \label{sec:model:#2} \label{sec:model:#2s} \label{sec:model:#2es}
}
\newrobustcmd\msubsubsection[3]{
  \addtocounter{subsubsection}{1}
  \addcontentsline{toc}{subsubsection}{\protect\numberline{\thesubsubsection}#1 \textcolor{ArrowheadPurple}{#2}}
  \subsubsection*{\thesubsubsection\quad#1 \textcolor{ArrowheadPurple}{#2}}
  \label{sec:model:#2} \label{sec:model:#2s}
}
%%

\begin{document}

%% Arrowhead Document Properties
\ArrowheadTitle{serviceOrchestrationPushManagement} % XXX = ServiceName 
\ArrowheadServiceID{serviceOrchestrationPushManagement} % ID name of service
\ArrowheadType{Service Description}
\ArrowheadTypeShort{SD}
\ArrowheadVersion{5.0.0} % Arrowhead version X.Y.Z, e..g. 4.4.1
\ArrowheadDate{\today}
\ArrowheadAuthor{Tam√°s Bordi} % Corresponding author e.g. Jerker Delsing
\ArrowheadStatus{DRAFT} % e..g. RELEASE, RELEASE CONDIDATE, PROTOTYPE
\ArrowheadContact{tbordi@aitia.ai} % Email of corresponding author
\ArrowheadFooter{\href{www.arrowhead.eu}{www.arrowhead.eu}}
\ArrowheadSetup
%%

%% Front Page
\begin{center}
  \vspace*{1cm}
  \huge{\arrowtitle}

  \vspace*{0.2cm}
  \LARGE{\arrowtype}
  \vspace*{1cm}

  %\Large{Service ID: \textit{"\arrowid"}}
  \vspace*{\fill}

  % Front Page Image
  %\includegraphics{figures/TODO}

  \vspace*{1cm}
  \vspace*{\fill}

  % Front Page Abstract
  \begin{abstract}
    This document provides service description for the \textbf{serviceOrchestrationPushManagement} service. 
  \end{abstract}

  \vspace*{1cm}

%   \scriptsize
%   \begin{tabularx}{\textwidth}{l X}
%     \raisebox{-0.5\height}{\includegraphics[width=2cm]{figures/artemis_logo}} & {ARTEMIS Innovation Pilot Project: Arrowhead\newline
%     THEME [SP1-JTI-ARTEMIS-2012-AIPP4 SP1-JTI-ARTEMIS-2012-AIPP6]\newline
%     [Production and Energy System Automation Intelligent-Built environment and urban infrastructure for sustainable and friendly cities]}
%   \end{tabularx}
%   \vspace*{-0.2cm}
 \end{center}

\newpage
%%

%% Table of Contents
\tableofcontents
\newpage
%%

\section{Overview}
\label{sec:overview}
This document describes the \textbf{serviceOrchestrationPushManagement} service, which enables systems (with operator role or proper permissions) to manage data and activities related to the push type of service orchestration process in bulk. An example of this interaction is that a higher entity (a dedicated system directly or a human operator indirectly via some tool) consumes this service to subscribe other consumer systems to receive push orchestration results and also to trigger the push orchestration process when it is necessary.

The orchestration process can be implemented by using different strategies:

\begin{itemize}
    \item \textbf{simple-store:} when the matching service instances are stored in a database as peer-to-peer rules that are maintained by higher entities and no actual service details are obtained from the Local Cloud;
    \item \textbf{flexible-store:} when the service requirements are stored in a database as service and provider attribute rules that are maintained by higher entities and actual service details are obtained from the Local Cloud;
    \item \textbf{dynamic:} when the matching service instances and their actual service details are discovered on the fly from the Local Cloud based on the service requirements specified by the initiator party (consumer system or higher entity).
\end{itemize}

The \textbf{serviceOrchestrationPushManagement} service contains the following operations:

\begin{itemize}
    \item \textit{subscribe} creates subscriptions in bulk for other consumer systems that can be triggered anytime to perform the orchestration process and push newly orchestrated matching service instances to the subscribed consumers;
    \item \textit{unsubscribe} removes subscriptions in bulk;
    \item \textit{trigger} initiates service orchestration processes based on consumer system names or subscription identifiers or creator system names;
    \item \textit{query} lists the existing subscriptions that match to the filtering requirements
\end{itemize}

The rest of this document is organized as follows.
In Section \ref{sec:functions}, we describe the abstract message operations provided by the service.
In Section \ref{sec:model}, we end the document by presenting the data types used by the mentioned operations.

\subsection{How This Service Is Meant to Be Used}

The purpose of the service is to handle the push orchestration related data and activities centrally and in bulk. 

In certain use cases, the right of deciding when and how the service orchestration process should be executed is not belonged to the consumer system itself, but is assigned to a higher level entity (a dedicated system or a human operator). This higher entity invokes the \textit{trigger} operation when it deems that a re-orchestration is necessary.

Due to certain device or software constraints, it is also possible that consumer systems are not capable to define their own service requirements (supported interface, security level, service metadata, etc...). In these situations, the task and responsibility of creating - and removing - proper subscriptions, could also belong to the higher entity. To manage these tasks, the \textit{subscribe} and \textit{unsubscribe} operations could be invoked.

For discovering the existing subscriptions and their details, the \textit{query} operation can be used.

\subsection{Important Delimitations}
\label{sec:delimitations}

The requester has to identify itself to use any of the operations. Only those subscriptions can be revoked which were created by the requester.

\subsection{Access policy}
\label{sec:accesspolicy}

The service is only available for operators, dedicated Core/Support systems and those who have the proper authorization rights to consume it.

\newpage

\section{Service Operations}
\label{sec:functions}

This section describes the abstract signatures of each operations of the service. The \textbf{serviceOrchestrationPushManagement} service is used to \textit{subscribe}/\textit{unsubscribe} consumer systems for push orchestrations, \textit{trigger} the orchestration process and \textit{query} for existing subscriptions. 
In particular, each subsection names an operation, an input type and one or two output types (unsuccessful operations can return different structure), in that order.
The input type is named inside parentheses, while the output type is preceded by a colon. If the operation has two output types, they are separated by a slash.
Input and output types are only denoted when accepted or returned, respectively, by the operation in question. All abstract data types named in this section are defined in Section 3.

\phantomsection
\fsubsection{subscribe}{OrchestrationSubscriptionListRequest}{OrchestrationSubscriptionListResponse}{}{ErrorResponse}

Operation \textit{subscribe} creates subscription records for the given consumer systems with the targeted services and the defined service requirements. It requires at least the requester's identity, the consumer systems' names, their targeted service definitions and their notify interfaces. The results of this operation are the created subscription records.

\textit{Note:} As long as a subscription exists, the orchestration process to the given system and for its targeted service can be triggered anytime by via the \textit{trigger} operation.

\fsubsection{unsubscribe}{OrchestrationUnsubscribeListRequest}{}{OperationStatus}{ErrorResponse}

Operation \textit{unsubscribe} requires the requester's identity, a list of subscription identifier and removes the associated subscription records. Only those subscriptions can be revoked which were created by the requester.

\fsubsection{trigger}{OrchestrationPushTriggerRequest}{}{OrchestrationPushJobListResponse}{ErrorResponse}

Operation \textit{trigger} creates orchestration job records that will be executed in a working queue. It requires the requester's identity and optionally either a subscription id list or a consumer system name list. If the subscription id list is provided, then the orchestration jobs will be created by the associated subscription records. If the consumer system name list is provided, then all the subscription record will be queried where the given consumer system name is the target system and the orchestration jobs will be created based on these subscription records. If none of the previous ones are provided, then all the subscription record will be queried where the requester system is the creator of the subscription record and the orchestration jobs will be created based on those.

The result of this operation is the created orchestration job records.

\fsubsection{query}{OrchestrationSubscriptionQueryRequest}{}{OrchestrationSubscriptionListResponse}{ErrorResponse}

Operation \textit{query} lists the subscription records that match the filtering requirements. The query data must meet the following criteria:

\begin{itemize}
    \item The operation returns results in pages. There are default page data settings, but the requester can provide a custom specification.
    \item If page number is specified, the page size must be specified as well and vice versa.
    \item In some Local Clouds there is a maximum page size.
    \item If a filter expects a list, there is an OR relation between the elements of the filter.
    \item There is an AND relation between different kind of filters.
\end{itemize}

\clearpage

\section{Information Model}
\label{sec:model}

Here, all data objects that can be part of the \textbf{serviceOrchestration} service are listed and must be respected by the hosting System.
Note that each subsection, which describes one type of object, begins with the \textit{struct} keyword, which is used to denote a collection of named fields, each with its own data type.
As a complement to the explicitly defined types in this section, there is also a list of implicit primitive types in Section \ref{sec:model:primitives}, which are used to represent things like hashes and identifiers.

\phantomsection
\msubsection{struct}{OrchestrationSubscriptionListRequest}

\begin{table}[ht!]
\begin{tabularx}{\textwidth}{| p{2.5cm} | p{6.3cm} | p{2cm} | X |} \hline
\rowcolor{gray!33} Field & Type & Mandatory & Description \\ \hline
authentication & \hyperref[sec:model:Identity]{Identity} & yes & The requester of the operation. \\ \hline
subscriptions &  \pref{List}$<$\hyperref[sec:model:OrchestrationSubscriptionRequest]{OrchestrationSubscriptionRequest}$>$ & yes & List of subscription request details. \\ \hline
\end{tabularx}
\end{table}

\msubsection{struct}{Identity}

An \pref{Object} which describes the identity of a system. It also contains whether the identified system has higher level administrative rights.

\msubsection{struct}{OrchestrationSubscriptionRequest}

\begin{table}[ht!]
\begin{tabularx}{\textwidth}{| p{3.2cm} | p{3.5cm} | p{2cm} | X |} \hline
\rowcolor{gray!33} Field & Type & Mandatory & Description \\ \hline
targetSystemName & \pref{SystemName} & yes & The targeted consumer system. \\ \hline
orchestrationForm & \hyperref[sec:model:OrchestrationForm]{OrchestrationForm} & yes & Orchestration request details. \\ \hline
notifyInterface & \hyperref[sec:model:NotifyInterface]{NotifyInterface} & yes & Interface details for sending push notifications. \\ \hline
duration & \pref{Number} & no & The interval while the subscription is active.  \\ \hline
\end{tabularx}
\end{table}

\msubsection{struct}{OrchestrationForm}

\begin{table}[ht!]
\begin{tabularx}{\textwidth}{| p{3.25cm} | p{3.8cm} | p{2cm} | X |} \hline
\rowcolor{gray!33} Field & Type & Mandatory & Description \\ \hline
serviceRequirement & \hyperref[sec:model:ServiceRequirement]{ServiceRequirement} & yes & Details of the targeted service. \\ \hline
orchestrationFlags & \pref{Set}$<$\hyperref[sec:model:OrchestrationFlag]{OrchestrationFlag}$>$ & no & Set of orchestration flags. \\ \hline
qosRequirements & \hyperref[sec:model:QoSRequirementMap]{QoSRequirementMap} & no & Quality of service requirements map. \\ \hline
exclusivityDuration & \pref{Number} & no & The interval the service wanted to be exclusive.  \\ \hline
\end{tabularx}
\end{table}

\textbf{\textit{Note}}: \textit{simple-store} strategy supports only to provide the \texttt{serviceRequirement} and \texttt{orchestrationFlags} fields. 

\clearpage

\msubsection{struct}{ServiceRequirement}

\begin{table}[ht!]
\begin{tabularx}{\textwidth}{| p{4.8cm} | p{4.7cm} | p{2cm} | X |} \hline
\rowcolor{gray!33} Field & Type & Mandatory & Description \\ \hline
serviceDefinition & \pref{ServiceName} & yes/no & The required service definition name. Mandatory in case of \textbf{dynamic} strategy. \\ \hline
operations & \pref{List}$<$\pref{ServiceOperationName}$>$ & yes/no & The required service operation names. \newline 
Exactly one operation must be defined, when the following orchestration flags are true: \newline \texttt{ONLY\_INTERCLOUD}, \texttt{ALLOW\_INTERCLOUD}, \texttt{ALLOW\_TRANSLATION} \\ \hline
versions & \pref{List}$<$\pref{Version}$>$ & no & The required service versions. \\ \hline 
alivesAt & \pref{DateTime} & no & The orchestrated service must be alive by this time. \\ \hline
metadataRequirements & \pref{List}$<$\hyperref[sec:model:MetadataRequirements]{MetadataRequirements}$>$ & no & The orchestrated service must meet at least to one of the specified metadata requirement. \\ \hline
interfaceTemplateNames & \pref{List}$<$\pref{InterfaceName}$>$ & no & The orchestrated service must offer at least one from the specified interface template names. \\ \hline 
interfaceAddressTypes & \pref{List}$<$\pref{AddressType}$>$ & no & The orchestrated service must offer at least one from the specified interface address types. \\ \hline
interfacePropertyRequirements & \pref{List}$<$\hyperref[sec:model:MetadataRequirements]{MetadataRequirements}$>$ & no & The orchestrated service must offer at least one interface that meets with one of the specified property requirements. \\ \hline
securityPolicies & \pref{List}$<$\pref{SecurityPolicy}$>$ & no & The orchestrated service must meet with one of the specified security policies. \\ \hline
preferredProviders & \pref{List}$<$\pref{SystemName}$>$ & no & Provider system names specified here have priority. \\ \hline
\end{tabularx}
\end{table}

\textbf{\textit{Note}}: \textit{simple-store} strategy supports only to provide the \texttt{serviceDefinition} field. 

\msubsection{struct}{MetadataRequirements}

A special \pref{Object} which maps \pref{String} keys to \pref{Object}, primitive or list values, where 

\begin{itemize}
    \item Keys can be paths (or multi-level keys) which access a specific value in a \hyperref[sec:model:Metadata]{Metadata} structure, where parts of the path are delimited with dot character (e.g. in case of "key.subkey" path we are looking for the key named "key" in the metadata, which is associated with an embedded object and in this object we are looking for the key named "subkey").
    \item Values are special \pref{Object}s with two fields: an operation (e.g. less than) and an actual value (e.g. a number). A metadata is matching a requirement if the specified operation returns true using the metadata value referenced by a key path as first and the actual value as second operands. 
    \item Alternatively, values can be ordinary primitives, lists or \pref{Object}s. In this case the operation is equals by default.
\end{itemize}

\msubsection{struct}{Metadata}

An \pref{Object} which maps \pref{String} keys to primitive, \pref{Object} or list values.

\msubsection{struct}{OrchestrationFlag}

Specific \pdef{String}:\pdef{Boolean} pair to control the orchestration process. Possible values:

\begin{itemize}
    \item \texttt{MATCHMAKING}:
    
    If \texttt{true}, orchestration process includes a matchmaking process in order to return only one matching service instance if any. 

    If \texttt{false}, orchestration process returns all the matching service instances if any. 

    Supporting strategies: \textit{simple-store}, \textit{flexible-store}, \textit{dynamic}
    
    \item \texttt{ONLY\_PREFERRED}:

    If \texttt{true}, orchestration process considers only those matching service instances that are provided by a preferred provider if any.

    If \texttt{false}, but preferred providers are specified and have matching service instances, then orchestration process considers only those service instances that are provided by a preferred provider. Otherwise, non-preferred providers are considered.

    Supporting strategies: \textit{flexible-store}, \textit{dynamic}
    
    \item \texttt{ONLY\_EXCLUSIVE}:

    If \texttt{true}, orchestration process considers only those matching service instances that are allows exclusivity. It automatically results \texttt{MATCHMAKING:true} as well.

    If \texttt{false}, but exclusivity duration is specified and there are matching services with exclusivity allowed, then orchestration process considers only those service instances that allows exclusivity. Otherwise, service instances without exclusivity are considered.

    Supporting strategies: \textit{flexible-store}, \textit{dynamic}
    
    \item \texttt{ALLOW\_INTERCLOUD}:

    If \texttt{true}, orchestration process considers matching service instances from neighbor clouds when there are no local hits. Orchestrating from neighbor clouds automatically results \texttt{MATCHMAKING:true}

    If \texttt{false}, orchestration process doesn't consider matching service instances from neighbor clouds when there are no local hits.

    Supporting strategies: \textit{flexible-store}, \textit{dynamic}

    \item \texttt{ONLY\_INTERCLOUD}:

    If \texttt{true}, orchestration process considers matching service instances only from the neighbor clouds. It automatically results \texttt{MATCHMAKING:true} as well.

    If \texttt{false}, orchestration process considers matching service instances from the local could in first hand and only considers matching service instances from the neighbor clouds when \texttt{ALLOW\_INTERCLOUD:true}.

    Supporting strategies: \textit{flexible-store}, \textit{dynamic}
    
    \item \texttt{ALLOW\_TRANSLATION}:

    If \texttt{true}, orchestration process considers matching, but non-native service instances when there are no native hits. Matching, but non-native service instance means that all the requirements are fulfilled except the interface related requirements (protocol, data-format, etc.). It automatically results \texttt{MATCHMAKING:true} as well.

     If \texttt{false}, orchestration process considers only native matching service instances.

     Supporting strategies: \textit{flexible-store}, \textit{dynamic}
    
\end{itemize}

\msubsection{struct}{QoSRequirementMap}

An \pref{Object} which maps \pref{String} keys to \pref{String} values.

\msubsection{struct}{NotifyInterface}

\begin{table}[ht!]
\begin{tabularx}{\textwidth}{| p{3.2cm} | p{4.3cm} | p{2cm} | X |} \hline
\rowcolor{gray!33} Field & Type & Mandatory & Description \\ \hline
protocol & \pdef{Protocol} & yes & Communication protocol to be used for sending notification. \\ \hline
properties & \hyperref[sec:model:NotifyInterfacePropertyMap]{NotifyInterfacePropertyMap} & yes & Interface properties belonged to the specified protocol. \\ \hline
\end{tabularx}
\end{table}

\msubsection{struct}{NotifyInterfacePropertyMap}

An \pref{Object} which maps \pref{String} keys \pref{String} values.

\msubsection{struct}{OrchestrationSubscriptionListResponse}
 
\begin{table}[ht!]
\begin{tabularx}{\textwidth}{| p{3cm} | p{6.8cm} | X |} \hline
\rowcolor{gray!33} Field & Type & Description \\ \hline
status & \pdef{OperationStatus} & Status of the operation. \\ \hline
entries & \pref{List}$<$\hyperref[sec:model:OrchestrationSubscriptionResponse]{OrchestrationSubscriptionResponse}$>$ & List of subscription records. \\ \hline
count & \pdef{Number} & Total number of subscription records. \\ \hline
\end{tabularx}
\end{table}

\clearpage

\msubsection{struct}{OrchestrationSubscriptionResponse}

\begin{table}[ht!]
\begin{tabularx}{\textwidth}{| p{3cm} | p{5.1cm} | X |} \hline
\rowcolor{gray!33} Field & Type & Description \\ \hline
id & \pref{OrchestrationSubscriptionId} & Unique identifier of the subscription record. \\ \hline
ownerSystemName & \pref{SystemName} & Unique identifier of the requester system. \\ \hline
targetSystemName & \pref{SystemName} & Unique identifier of the subscribed system. \\ \hline
orchestrationForm & \hyperref[sec:model:OrchestrationForm]{OrchestrationForm} & Orchestration request details. \\ \hline
notifyInterface & \hyperref[sec:model:NotifyInterface]{NotifyInterface} & Interface details for sending push notifications. \\ \hline
expiredAt & \pref{DateTime} & The subscription is active until this time. \\ \hline
createdAt & \pref{DateTime} & The subscription was created at this timestamp. \\ \hline
\end{tabularx}
\end{table}

\msubsection{struct}{ErrorResponse}

\begin{table}[ht!]
\begin{tabularx}{\textwidth}{| p{4.25cm} | p{3.5cm} | X |} \hline
\rowcolor{gray!33} Field & Type      & Description \\ \hline
status & \pref{OperationStatus} & Status of the operation. \\ \hline
errorMessage & \pref{String} & Description of the error. \\ \hline
errorCode &\pref{Number}  & Numerical code of the error. \\ \hline
type & \pref{ErrorType} & Type of the error. \\ \hline
origin & \pref{String} & Origin of the error. \\ \hline
\end{tabularx}
\end{table}

\msubsection{struct}{OrchestrationUnsubscribeListRequest}

\begin{table}[ht!]
\begin{tabularx}{\textwidth}{| p{2.5cm} | p{6.3cm} | p{2cm} | X |} \hline
\rowcolor{gray!33} Field & Type & Mandatory & Description \\ \hline
authentication & \hyperref[sec:model:Identity]{Identity} & yes & The requester of the operation. \\ \hline
subscriptionIds &  \pref{List}$<$\pref{OrchestrationSubscriptionId}$>$ & yes & List of subscription identifiers. \\ \hline
\end{tabularx}
\end{table}

\clearpage

\msubsection{struct}{OrchestrationPushTriggerRequest}

\begin{table}[ht!]
\begin{tabularx}{\textwidth}{| p{2.5cm} | p{6.3cm} | p{2cm} | X |} \hline
\rowcolor{gray!33} Field & Type & Mandatory & Description \\ \hline
authentication & \hyperref[sec:model:Identity]{Identity} & yes & The requester of the operation. \\ \hline
targetSystems &  \pref{List}$<$\pref{SystemName}$>$ & no & List of target consumer systems. \\ \hline
subscriptionIds &  \pref{List}$<$\pref{OrchestrationSubscriptionId}$>$ & no & List of subscription identifiers. \\ \hline
\end{tabularx}
\end{table}

\msubsection{struct}{OrchestrationPushJobListResponse}

\begin{table}[ht!]
\begin{tabularx}{\textwidth}{| p{3cm} | p{6.5cm} | X |} \hline
\rowcolor{gray!33} Field & Type & Description \\ \hline
jobs & \pref{List}$<$\hyperref[sec:model:OrchestrationJobResponse]{OrchestrationJobResponse}$>$ & List of orchestration push jobs. \\ \hline
\end{tabularx}
\end{table}

\msubsection{struct}{OrchestrationJobResponse}

\begin{table}[ht!]
\begin{tabularx}{\textwidth}{| p{2.8cm} | p{4.5cm} | X |} \hline
\rowcolor{gray!33} Field & Type & Description \\ \hline
id & \pref{OrchestrationJobId} & Unique job identifier. \\ \hline
status & \pref{OrchestrationJobStatus} & Actual working state of the job. \\ \hline
type & \pref{OrchestrationType} & Type of orchestration. \\ \hline
requesterSystem & \pref{SystemName} & Name of the system that started the orchestration process. \\ \hline
targetSystem & \pref{SystemName} & Name of the system for which the orchestration is executed. \\ \hline
serviceDefinition & \pref{ServiceName} & Name of the service that the orchestration job is targeting. \\ \hline
subscriptionId & \pref{OrchestrationSubscriptionId} & Unique identifier of associated subscription record. \\ \hline
message & \pref{String} & Additional error or warning information. \\ \hline
createdAt & \pref{DateTime} & The job was created at this timestamp. \\ \hline
startedAt & \pref{DateTime} & The job was started at this timestamp. \\ \hline
finishedAt & \pref{DateTime} & The job was finished at this timestamp. \\ \hline
\end{tabularx}
\end{table}

\clearpage

\msubsection{struct}{OrchestrationSubscriptionQueryRequest}

\begin{table}[ht!]
\begin{tabularx}{\textwidth}{| p{3cm} | p{3.5cm} | p{2cm} | X |} \hline
\rowcolor{gray!33} Field & Type & Mandatory & Description \\ \hline
authentication & \hyperref[sec:model:Identity]{Identity} & yes & The requester of the operation. \\ \hline
pageNumber & \pref{Number} & no (yes) & The number of the requested page. It is mandatory, if page size is specified. \\ \hline
pageSize & \pref{Number} & no (yes) & The number of entries on the requested page. It is mandatory, if page number is specified. \\ \hline
pageSortField & \pref{String} & no & The identifier of the field which must be used to sort the entries. \\ \hline
pageDirection & \pref{Direction} & no & The direction of the sorting. \\ \hline
ownerSystems &  \pref{List}$<$\pref{SystemName}$>$ & no & Requester is looking for subscriptions with any of the specified creator system names. \\ \hline
targetSystems &  \pref{List}$<$\pref{SystemName}$>$ & no & Requester is looking for subscriptions with any of the specified target consumer system names. \\ \hline
serviceDefinitions &  \pref{List}$<$\pref{ServiceName}$>$ & no & Requester is looking for subscriptions with any of the specified service definition names. \\ \hline
\end{tabularx}
\end{table}
 

\clearpage

\subsection{Primitives}
\label{sec:model:primitives}

Types and structures mentioned throughout this document that are assumed to be available to implementations of this service.
The concrete interpretations of each of these types and structures must be provided by any IDD document claiming to implement this service.


\begin{table}[ht!]
\begin{tabularx}{\textwidth}{| p{4.3cm} | X |} \hline
\rowcolor{gray!33} Type & Description \\ \hline
\pdef{AddressType}      & Any suitable type chosen by the implementor of service. \\ \hline
\pdef{Boolean}          & One out of true or false. \\ \hline
\pdef{DateTime}         & Pinpoints a specific moment in time. \\ \hline
\pdef{Direction}        & The direction of a sorting operation. Possible values are the representation of ascending or descending order. \\ \hline
\pdef{ErrorType}        & Any suitable type chosen by the implementor of service. \\ \hline
\pdef{InterfaceName}& A string identifier of an interface descriptor. Must follow snake\_case naming convention. \\ \hline
\pdef{List}$<$A$>$      & An \textit{array} of a known number of items, each having type A. \\ \hline
\pdef{Number}           & Decimal number. \\ \hline
\pdef{Object}           & Set of primitives and possible further objects. \\ \hline
\pdef{OperationStatus}  & Logical, textual or numerical value that indicates whether an operation is a success or a failure. Multiple values can be used for success and error cases to give additional information about the nature of the result. \\ \hline
\pdef{OrchestrationJobId} & Unique string identifier. \\ \hline
\pdef{OrchestrationJobStatus}  & Predefined values indicating working states. \\ \hline
\pdef{OrchestrationSubscriptionId} & Unique string identifier. \\ \hline
\pdef{OrchestrationType}  & Predefined values indicating orchestration type (\textit{pull} or \textit{push}). \\ \hline
\pdef{Protocol}         & A string representation of a communication protocol. \\ \hline
\pdef{SecurityPolicy}   & Any suitable security policy chosen by the implementor of service. \\ \hline
\pdef{ServiceName}             & A string identifier that is intended to be both human and machine-readable. Must follow camelCase naming convention. \\ \hline
\pdef{ServiceOperationName}             & A string identifier that is intended to be both human and machine-readable. Must follow kebab-case naming convention. \\ \hline
\pdef{Set}$<$A$>$       & A collection of items that contains no duplicate elements and each having type A. \\ \hline
\pdef{String}           & A chain of characters. \\ \hline
\pdef{SystemName}             & A string identifier that is intended to be both human and machine-readable. Must follow PascalCase naming convention. \\ \hline
\pdef{Version}          & Specifies a service instance version. Version must follow the Semantic Versioning.  \\ \hline
\end{tabularx}
\end{table}

\newpage

\bibliographystyle{IEEEtran}
\bibliography{bibliography}

\newpage

\section{Revision History}
\subsection{Amendments}

\noindent\begin{tabularx}{\textwidth}{| p{1cm} | p{3cm} | p{2cm} | X | p{4cm} |} \hline
\rowcolor{gray!33} No. & Date & Version & Subject of Amendments & Author \\ \hline

1 & YYYY-MM-DD & \arrowversion & & Xxx Yyy \\ \hline
\end{tabularx}

\subsection{Quality Assurance}

\noindent\begin{tabularx}{\textwidth}{| p{1cm} | p{3cm} | p{2cm} | X |} \hline
\rowcolor{gray!33} No. & Date & Version & Approved by \\ \hline

1 & YYYY-MM-DD & \arrowversion  &  \\ \hline

\end{tabularx}

\end{document}